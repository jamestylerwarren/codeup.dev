<!DOCTYPE html>
<html>
<head>
	<title>External JS</title>
</head>
<body>




	<script>
	'use strict'
	// customer name
	// product name
	// prodcuct price
	// one more?
	// product name?
	// product price
	// total = sum of all prices
	// apply discount


	// BONUS - another customer?
	console.log('heb question');



	var customers = [];


	// CUSTOMER DATA
	do {
		var customer = {
			name: null,
			products: [],

			getTotal: function() {
				var subTotal = 0;
				for (var i = 0; i < this.products.length; i++) {
			    	subTotal = this.products[i].price + subTotal;
			    }
		    	return subTotal;
			},
			getDiscount: function () {
				var discount = 0;
				var subTotal = this.getTotal();
				if (subTotal > 200) {
					discount = subTotal * .35
				} 
				return subTotal - discount;
			}
		};

		// PURCHASES
		var customerName = prompt("Customer name?")
			customer.name = customerName;
			console.log(customerName);
		do {
			var name = prompt("What product did you buy?")
			var price = prompt("How much did you pay for " + name + "?")
			var product = {
				name: name,
				price: Number(price)
			};
			customer.products.push(product);

			var moreProducts = confirm("Are there more products?");
		} while (moreProducts);

		customers.push(customer);

		var moreCustomers = confirm("Are there more customers?");
	} while (moreCustomers);

	// OUTPUT
	for (var i = 0; i < customers.length; i++) {
		alert('Subtotal for ' + customers[i].name + ' is ' + customers[i].getTotal());

	alert("Total for " + customers[i].name + " is " + customers[i].getDiscount());

	}











	

   
	



	</script>
</body>
</html>
